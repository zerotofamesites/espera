<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Lista de Espera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        body { 
            font-family: 'Poppins', sans-serif; 
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
        }
        .glass-effect {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .gradient-text {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .pulse-ring {
            animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.33); }
            80%, 100% { opacity: 0; }
        }
    </style>
</head>
<body class="min-h-screen relative overflow-x-hidden">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="glass-effect rounded-3xl p-8 mb-8 card-hover floating-animation">
            <div class="text-center">
                <div class="relative inline-block mb-4">
                    <div class="absolute inset-0 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full pulse-ring"></div>
                    <div class="relative bg-black rounded-full p-4 shadow-lg border-2 border-yellow-400">
                        <img 
                            src="https://blogger.googleusercontent.com/img/a/AVvXsEjrAj-gZ6d2n0R_eJ8FUThVuOPFOZPGQfVNYSAyk2RVDtn7h5qOoXfw3cF0RZQNffUdILrj_uF9t9OxPIJxTyO5SMMsv2JheWaCjEZejmQCGaTtNo5OIfG8kxTdq0vnQMHbAUzHuB-JC_xlRZH5YWQVrHhJjc6ejrc4JkfLICK2Z_191iqkn2rnPp3wfbo7" 
                            alt="Logo" 
                            class="w-12 h-12 object-contain"
                            onerror="this.src=''; this.alt='Logo nÃ£o disponÃ­vel'; this.style.display='none';"
                        >
                    </div>
                </div>
                <h1 class="text-4xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent mb-3">
                    Lista de Espera
                </h1>
                <p class="text-yellow-200 text-lg font-medium">Gerencie sua fila de atendimento com estilo e eficiÃªncia</p>
            </div>
        </div>

        <!-- FormulÃ¡rio de AdiÃ§Ã£o -->
        <div class="glass-effect rounded-3xl p-8 mb-8 card-hover">
            <div class="flex items-center mb-6">
                <div class="bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-xl p-3 mr-4">
                    <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent">Adicionar Pessoa</h2>
            </div>
            <form id="waitingForm" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label for="phoneNumber" class="block text-sm font-semibold text-yellow-400">
                            ðŸ“± NÃºmero de Telefone
                        </label>
                        <input 
                            type="tel" 
                            id="phoneNumber" 
                            placeholder="(11) 99999-9999"
                            class="w-full px-4 py-4 bg-black/50 border border-yellow-400/50 rounded-xl text-yellow-100 placeholder-yellow-400/60 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 backdrop-blur-sm transition-all"
                            required
                        >
                    </div>
                    <div class="space-y-2">
                        <label for="customerName" class="block text-sm font-semibold text-yellow-400">
                            ðŸ‘¤ Nome Completo
                        </label>
                        <input 
                            type="text" 
                            id="customerName" 
                            placeholder="Digite o nome completo"
                            class="w-full px-4 py-4 bg-black/50 border border-yellow-400/50 rounded-xl text-yellow-100 placeholder-yellow-400/60 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 backdrop-blur-sm transition-all"
                            required
                        >
                    </div>
                </div>
                <button 
                    type="submit"
                    class="w-full bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:scale-105"
                >
                    <span class="flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Adicionar Ã  Lista de Espera
                    </span>
                </button>
            </form>
        </div>

        <!-- Lista de Espera -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center">
                    <div class="bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-xl p-3 mr-4">
                        <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm2 5a1 1 0 011-1h1a1 1 0 110 2H7a1 1 0 01-1-1zm4-1a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent">
                            Fila de Atendimento
                        </h2>
                        <span id="totalCount" class="text-yellow-300 font-medium">(0 pessoas aguardando)</span>
                    </div>
                </div>
                <button 
                    id="clearListBtn"
                    class="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-yellow-100 font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 border border-yellow-400/30"
                >
                    <span class="flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                        Zerar Lista
                    </span>
                </button>
            </div>

            <!-- Lista Vazia -->
            <div id="emptyState" class="text-center py-16">
                <div class="relative inline-block mb-6">
                    <div class="absolute inset-0 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full pulse-ring"></div>
                    <div class="relative bg-black/80 backdrop-blur-sm rounded-full p-6 border-2 border-yellow-400">
                        <svg class="w-16 h-16 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                </div>
                <h3 class="text-2xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent mb-3">Lista Vazia</h3>
                <p class="text-yellow-300 text-lg">Adicione a primeira pessoa Ã  fila de atendimento</p>
            </div>

            <!-- Lista de Pessoas -->
            <div id="waitingList" class="space-y-4 hidden">
                <!-- Items serÃ£o adicionados aqui dinamicamente -->
            </div>
        </div>
    </div>

    <script>
        class WaitingListManager {
            constructor() {
                this.waitingList = this.loadFromStorage();
                this.initializeElements();
                this.bindEvents();
                this.updateDisplay();
            }

            initializeElements() {
                this.form = document.getElementById('waitingForm');
                this.phoneInput = document.getElementById('phoneNumber');
                this.nameInput = document.getElementById('customerName');
                this.listContainer = document.getElementById('waitingList');
                this.emptyState = document.getElementById('emptyState');
                this.totalCount = document.getElementById('totalCount');
                this.clearBtn = document.getElementById('clearListBtn');
            }

            bindEvents() {
                this.form.addEventListener('submit', (e) => this.addPerson(e));
                this.clearBtn.addEventListener('click', () => this.clearList());
                
                // FormataÃ§Ã£o automÃ¡tica do telefone
                this.phoneInput.addEventListener('input', (e) => this.formatPhone(e));
            }

            formatPhone(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 11) {
                    value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
                    value = value.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3');
                    value = value.replace(/(\d{2})(\d{4})/, '($1) $2');
                    value = value.replace(/(\d{2})/, '($1) ');
                }
                e.target.value = value;
            }

            addPerson(e) {
                e.preventDefault();
                
                const phone = this.phoneInput.value.trim();
                const name = this.nameInput.value.trim();
                
                if (!phone || !name) return;

                const person = {
                    id: Date.now(),
                    phone: phone,
                    name: name,
                    timestamp: new Date().toLocaleString('pt-BR'),
                    position: this.waitingList.length + 1
                };

                this.waitingList.push(person);
                this.saveToStorage();
                this.updateDisplay();
                this.form.reset();
                
                // Feedback visual
                this.showSuccessMessage();
            }

            removePerson(id) {
                this.waitingList = this.waitingList.filter(person => person.id !== id);
                // Reordenar posiÃ§Ãµes
                this.waitingList.forEach((person, index) => {
                    person.position = index + 1;
                });
                this.saveToStorage();
                this.updateDisplay();
            }

            openWhatsApp(phone, name) {
                // Detectar se o nome Ã© feminino ou masculino
                const isFeminine = this.detectGender(name);
                const treatment = isFeminine ? 'senhora' : 'senhor';
                const article = isFeminine ? 'a' : 'o';
                
                // Limpar o telefone (remover formataÃ§Ã£o)
                const cleanPhone = phone.replace(/\D/g, '');
                
                // Criar a mensagem personalizada
                const message = `OlÃ¡ ${name}! Verificamos em nosso sistema que ${article} ${treatment} encontra-se atualmente na nossa lista de espera para a vaga em questÃ£o. GostarÃ­amos de saber se ${article} ${treatment} ainda tem interesse em continuar.`;
                
                // Codificar a mensagem para URL
                const encodedMessage = encodeURIComponent(message);
                
                // Criar o link do WhatsApp
                const whatsappUrl = `https://wa.me/55${cleanPhone}?text=${encodedMessage}`;
                
                // Abrir em nova aba
                window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            }

            detectGender(name) {
                // Lista de terminaÃ§Ãµes femininas comuns
                const feminineEndings = ['a', 'ana', 'ina', 'iana', 'ela', 'lia', 'cia', 'tia', 'nia', 'ria', 'sia'];
                
                // Lista de nomes tipicamente femininos
                const feminineNames = [
                    'maria', 'ana', 'francisca', 'antonia', 'adriana', 'juliana', 'marcia', 'fernanda',
                    'patricia', 'aline', 'amanda', 'andrea', 'angela', 'barbara', 'beatriz', 'bruna',
                    'camila', 'carla', 'carolina', 'claudia', 'cristina', 'daniela', 'debora', 'denise',
                    'diana', 'eliana', 'elisangela', 'fabiana', 'fatima', 'flavia', 'gabriela', 'giovana',
                    'helena', 'ingrid', 'isabel', 'janaina', 'jessica', 'joana', 'julia', 'juliana',
                    'karina', 'larissa', 'leticia', 'lilian', 'luciana', 'luiza', 'marcela', 'marina',
                    'michele', 'monica', 'natalia', 'patricia', 'paula', 'priscila', 'rafaela', 'regina',
                    'renata', 'roberta', 'sandra', 'silvia', 'simone', 'solange', 'sonia', 'sueli',
                    'tatiana', 'thais', 'valeria', 'vanessa', 'vera', 'viviane'
                ];
                
                const firstName = name.toLowerCase().split(' ')[0];
                
                // Verificar se estÃ¡ na lista de nomes femininos
                if (feminineNames.includes(firstName)) {
                    return true;
                }
                
                // Verificar terminaÃ§Ãµes femininas
                return feminineEndings.some(ending => firstName.endsWith(ending));
            }

            clearList() {
                if (this.waitingList.length === 0) return;
                
                if (confirm('Tem certeza que deseja zerar toda a lista de espera?')) {
                    this.waitingList = [];
                    this.saveToStorage();
                    this.updateDisplay();
                }
            }

            updateDisplay() {
                this.totalCount.textContent = `(${this.waitingList.length} pessoas aguardando)`;
                
                if (this.waitingList.length === 0) {
                    this.emptyState.classList.remove('hidden');
                    this.listContainer.classList.add('hidden');
                    return;
                }

                this.emptyState.classList.add('hidden');
                this.listContainer.classList.remove('hidden');
                
                this.listContainer.innerHTML = this.waitingList.map(person => `
                    <div class="bg-black/60 backdrop-blur-sm rounded-2xl p-6 border border-yellow-400/40 hover:bg-black/70 hover:border-yellow-400/60 transition-all duration-300 card-hover">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-6">
                                <div class="relative">
                                    <div class="bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-bold text-xl rounded-2xl w-14 h-14 flex items-center justify-center shadow-lg border-2 border-yellow-300">
                                        ${person.position}
                                    </div>
                                    <div class="absolute -top-1 -right-1 bg-yellow-400 rounded-full w-4 h-4 border-2 border-black"></div>
                                </div>
                                <div class="space-y-1">
                                    <h3 class="font-bold text-yellow-100 text-lg">${person.name}</h3>
                                    <div class="flex items-center text-yellow-300 text-sm">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                                        </svg>
                                        ${person.phone}
                                    </div>
                                    <div class="flex items-center text-yellow-400/70 text-xs">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                        ${person.timestamp}
                                    </div>
                                </div>
                            </div>
                            <div class="flex space-x-3">
                                <button 
                                    onclick="waitingManager.openWhatsApp('${person.phone}', '${person.name}')"
                                    class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white p-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110"
                                    title="Enviar mensagem no WhatsApp"
                                >
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.63z"/>
                                    </svg>
                                </button>
                                <button 
                                    onclick="waitingManager.removePerson(${person.id})"
                                    class="bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white p-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110"
                                    title="Remover da lista"
                                >
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            showSuccessMessage() {
                const message = document.createElement('div');
                message.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
                message.textContent = 'âœ… Pessoa adicionada Ã  lista!';
                document.body.appendChild(message);
                
                setTimeout(() => {
                    message.remove();
                }, 3000);
            }

            saveToStorage() {
                localStorage.setItem('waitingList', JSON.stringify(this.waitingList));
            }

            loadFromStorage() {
                const saved = localStorage.getItem('waitingList');
                return saved ? JSON.parse(saved) : [];
            }
        }

        // Inicializar o sistema
        const waitingManager = new WaitingListManager();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9831628a77572755',t:'MTc1ODUzOTczMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
